<div class="bgp-background-gray" style="width: 100%;">
    <div style="width: 100%; text-align: right;">
        <button (click)="DownloadReport()" type="submit" class="btn btn-outline-dark my-2 my-sm-0 " > <i class="far fa-arrow-alt-circle-down"></i> Download Report</button>
    </div>

    <div style="width: 100%; margin: auto;">
        <div id=headerDiv style="background-color: rgb(22, 21, 21);">
            <img src="../assets/bgplogo.JPG" style="width:200px;height:150px;">

            <div style="background-color:lightgray; float: right; ">
                <h4><i class="fas fa-map-marker-alt"></i> Company: Black Gold Properties</h4>
                <h4><i class="fas fa-phone-square"></i> Contact Number: +27 (0)72 322 9774</h4>
                <h4><i class="far fa-envelope"></i> Email: info@bgprop.co.za</h4>
            </div>
        </div>
        <br>
        <div *ngIf="takeonInspections || outgoingInspections">
                <div id="subHeading">
                    <h1 class="bgp-text-gold" >{{reportType}}</h1>
                    <h4><i class="fas fa-calendar-alt"></i> Report Date: {{reportDate}}</h4>
                    <h4><i class="fas fa-user"></i> Prepared By: {{reportUser[0].USERNAME}} {{reportUser[0].USERSURNAME}}</h4>
                </div>
                <div  >
                    <table style="margin: auto; " id="dateTable" >
                        <tr>
                            <th colspan="2">Report Date Range:</th>
                        </tr>
                        <tr>
                            <td>Start date</td> <td>End Date</td>
                        </tr>
                        <tr>
                            <td>{{startDate}}</td> <td nowrap>{{endDate}}</td>
                        </tr>
                    </table>
                </div>
           

            <div class="categoryTable">
                <table style="margin: auto;" id="table">
                    <tr class="topBorder">
                        <th colspan="4" style="text-align: center; color: black;" >Take-on Inspections</th>
                    </tr>
                    <tr>
                        <th nowrap>Inspection Date:</th> <th nowrap>Property Address:</th> <th nowrap>Inspector:</th>  <th nowrap>Defects:</th> 
                    </tr>

                    <tr id="table{{i}}" *ngFor="let inspection of takeonInspections; let i = index">
                        <td>{{inspection.INSPECTIONDATE}}</td>  <td>{{inspection.PROPERTYADDRESS}}</td>  <td>{{inspection.USERNAME}} {{inspection.USERSURNAME}}</td> <td><p *ngFor="let defect of inspection.Defects">{{defect.DEFECTDESCRIPTION}}</p></td>
                    </tr>
                    <tr class="subTotal">
                        <th colspan="4" style="text-align: right; color: black;">Take-On Inspection Total: {{takeonInspections.length}}</th>
                    </tr>
                    <tr>
                        <th colspan="4" style="text-align: center; color: black;" >Outgoing Inspections</th>
                    </tr>
                    <tr>
                        <th nowrap>Inspection date:</th> <th nowrap>Property address:</th>  <th nowrap>Inspector:</th>  <th nowrap>Defects:</th> 
                    </tr>
                    <tr id="table{{i}}" *ngFor="let inspection of outgoingInspections; let i = index">
                        <td>{{inspection.INSPECTIONDATE}}</td>  <td>{{inspection.PROPERTYADDRESS}}</td> <td>{{inspection.USERNAME}} {{inspection.USERSURNAME}}</td> <td><p *ngFor="let defect of inspection.Defects">{{defect.DEFECTDESCRIPTION}}</p></td>
                    </tr>
                    <tr class="subTotal">
                        <th colspan="4" style="text-align: right; color: black;">Outgoing Inspection Count: {{outgoingInspections.length}}</th>
                    </tr>
                    <tr class="total">    
                        <th colspan="4" style="text-align: right; color: black;">Total Inspection Count: {{outgoingInspections.length + takeonInspections.length}}</th>
                    </tr>  
                </table>
            </div>
            <!-- <div class="categoryTable">
                <table>
                    <tr>
                        <th colspan="4" style="text-align: center; color: black;" >Outgoing Inspections</th>
                    </tr>
                    <tr>
                        <th nowrap>Inspection date:</th> <th nowrap>Property address:</th>  <th nowrap>Inspector:</th>  <th nowrap>Defects:</th> 
                    </tr>

                    <tr id="table{{i}}" *ngFor="let inspection of outgoingInspections; let i = index">
                        <td>{{inspection.INSPECTIONDATE}}</td>  <td>{{inspection.PROPERTYADDRESS}}</td> <td>{{inspection.USERNAME}} {{inspection.USERSURNAME}}</td> <td><p *ngFor="let defect of inspection.Defects">{{defect.DEFECTDESCRIPTION}}</p></td>
                    </tr>
                    <tr>
                        <th colspan="4" style="text-align: right; color: black;">Outgoing Inspection Count: {{outgoingInspections.length}}</th>
                    </tr>
                </table>
            </div> -->
        </div>    
 

    </div>

            <br>
            <div style="width: 60%; margin: auto;" *ngIf="chart" id="canvas-div">
                <canvas id="pie-chart" > {{chart}} </canvas>
                <br>
                <br>
                
                <h5 style="text-align: center;">***End of Report***</h5>  
            </div>
            
    
</div>

